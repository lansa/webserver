window.LANSA.addSrc("wrtn",function(d,c,a,b,p){function u(a){return null===a?d.ed:"object"==typeof a?a.mimetype&&a.data&&a.filename?new c.WI(a):"":a}function m(a){if(a===d.ed)return null;switch(typeof a){case "object":if(a instanceof c.qk)return a.toString();if(c.ar&&a instanceof c.ar)return a.Ixc();if(a instanceof c.WI)return a.iEa}return a}function q(b,c,d){var e=document.createElement("form");e.setAttribute("method","post");e.setAttribute("action",b);d==a.O2.lwc&&e.setAttribute("target","_blank");
for(var f in c)c.hasOwnProperty(f)&&(b=document.createElement("input"),b.setAttribute("type","hidden"),b.setAttribute("name",f),b.setAttribute("value",c[f]),e.appendChild(b));document.body.appendChild(e);e.submit()}function s(a){return(a=a.sm)&&"M"==a}function k(a,b){t&&b.append("_SESSIONKEY",t);var e=a.FLD;if(e!==p)for(var f in e){var l=e[f];if(l===d.ed)return!1;l instanceof c.WI?b.append(f,l.Xua(),l.Ng()):b.append(f,m(l))}e=a.LIST;if(e!==p)for(var h in e){for(var k=e[h],r=k.bq={},q=k.entryCount(),
s=1;s<=q;s++)for(f in k.getEntry(s),1==s&&b.append(h+"..",1),r){l=s.toString();4>l.length&&(l="000"+l,l=l.substr(l.length-4));var u=h+"."+l+"."+f,l=r[f];if(l===d.ed)return delete k.bq,!1;l instanceof c.WI?b.append(u,l.Xua(),l.Ng()):b.append(u,m(l))}delete k.bq}return!0}function e(a,b){var c=b.webroutine={},d=c.context={};t&&(d["session-key"]=t);A&&(d["session-key-name"]=A);l&&(d["session-key-method"]=l);d=a.FLD;if(d!==p){var e=c.fields={},f;for(f in d)(e[f]={}).value=m(d[f])}d=a.LIST;if(d!==p){var c=
c.lists={},h;for(h in d){for(var k=c[h]={},e=k.header=[],k=k.entries=[],r=d[h],q=r.bq={},s=r.entryCount(),u=1;u<=s;u++){r.getEntry(u);if(1==u)for(f in q){var D={};e.push(D);D.name=f}D=[];k.push(D);for(f in q)D.push(m(q[f]))}delete r.bq}}}function h(a){if(a=a.context){var b=a["session-key"];b!=p&&""!=b&&b!=t&&b!=r&&(r=t,t=b,A=a["session-key-name"],l=a["session-key-method"])}}function f(a,b,c){function e(a){if(a!=p){var b=a.FLD;f(a.LIST);f(b)}}function f(b){if(b!=p)for(var c in b)if(null===b[c])throw d.xld(c,
a.ZEa,a.YEa);}e(b);e(c)}var t=p,A=p,l="hidden",r=p;a.O2={tHb:0,lwc:1};a.O2.v={CURRENT:a.O2.tHb,NEW:a.O2.lwc};d.Md(function(){},"PRIM_WRTN",{});c.zkc=function(){D.K.call(this)};var D=c.u(c.zkc,c.qd);D.K5=function(){return t!==p?t:""};D.Z5a=function(a){t=a;r=p};D.MCb=function(){var a=b.Jg().nZa();if(a.qua()){var c="lansa-session-"+b.YIa(),d=JSON.stringify({key:this.K5()});if(a.Zh(c,d))return!0}return!1};D.xCb=function(){var a=b.Jg().nZa();if(a.qua()&&(a=a.Ix("lansa-session-"+b.YIa()))){var c=null;try{c=
JSON.parse(a.kb())}catch(d){c=null}if(c)return this.Z5a(c.key),!0}return!1};D.Uk=function(){var a=b.Jg().nZa();a.qua()&&a.bt("lansa-session-"+b.YIa());l=A=t=p};d.Sa(c.zkc,"PRIM_WEB","Session",{Aa:{Key:{a:D.K5}},jc:{Save:D.MCb,Restore:D.xCb,Clear:D.Uk}});c.pMa=function(a,b){C.K.call(this);this.ZEa=a;this.YEa=b;this.yPb=this.zOb=""};var C=c.u(c.pMa,c.qd);C.oZd=function(){return this.zOb};C.Lge=function(a){this.zOb=a};C.I0d=function(){return this.yPb};C.Zge=function(a){this.yPb=a};C.b3c=function(){return this.ZEa};
C.K2c=function(){return this.YEa};C.Zz=function(){return b.PMc(this.zOb,b.xIa(),this.ZEa,this.YEa,this.w2c())};C.w2c=function(){var a=this.yPb;""==a&&(a=b.wIa());return a};d.Sa(c.pMa,"PRIM_WEB","ServerRequest",{Aa:{ServerModule:{a:C.b3c},Routine:{a:C.K2c}}});c.Oxa=function(a,b){x.K.call(this,a,b)};var x=c.u(c.Oxa,c.pMa);x.Z_=function(a,b){this.k1b(a,b,!1,null)};x.Y4=function(a,c){this.k1b(a,c,!0,b.dY())};x.k1b=function(c,m,r,q){function D(c){var e=null;try{e=JSON.parse(c)}catch(f){e=null}if(e){if(c=
e.webroutine)if(c=c.messages)for(var k=d.h1c(),r=0;r<c.length;r++)k.Zh(c[r],null);if(c=e["vlweb-error"]){var s=a.vY.dYa;switch(c["message-id"]){case "HM42":case "HM43":s=a.vY.n2b;l=A=t=p;break;case "HM05":s=a.vY.m2b}s=J.XHa(s);if(!s&&c.message!==p)throw d.gCb(J.ZEa,J.YEa,c.message);}else{k=m;if(e=e.webroutine){r=k.FLD;if(r!==p){var C=e.fields;if(C)for(var x in r)c=C[x],c!==p&&(c=u(c.value),r[x].set(c))}x=k.LIST;if(x!==p&&(k=e.lists))for(s in x)if(r=x[s],r.Sj(),c=k[s])for(var C=c.header,y=c.entries,
z=0;z<y.length;z++){for(var L=r.bq={},H=y[z],K=0;K<H.length;K++)c=u(H[K]),L[C[K].name]=c;r.Ag();delete r.bq}h(e)}J.c5()}}else if(s=J.XHa(a.vY.dYa),!s)throw d.gCb(J.ZEa,J.YEa,"Invalid JSON");b.EB(q)}function C(c){if(!J.XHa(a.vY.dYa))throw d.gCb(J.ZEa,J.YEa,"response code "+c);b.EB(q)}function x(a){a.lengthComputable&&J.TVc(a.loaded,a.total,d.O(a.loaded/a.total*100))}function L(a){if(a.lengthComputable){var b=a.loaded/a.total*100;J.Q1b(a.loaded,a.total,d.O(b))}else J.Q1b(a.loaded,-1,-1)}var J=this;
f(J,c,m);if(s(c)){var K=new FormData;if(k(c,K)){b.fid(this.Zz(),K,D,C,x,L,r);return}}K={};e(c,K);b.Toc(this.Zz(),K,D,C,x,L,r)};x.XHa=function(c){var e=!1,e=d.cc();e.eN("REASON",c,a.vY.v);e.mg("HANDLED",!1);this.Ga(a.Q.b5,e);(e=e.ah("HANDLED"))||(e=b.Jg().JVc(this,c));return e};x.c5=function(){this.Ga(a.Q.Gaa)};x.TVc=function(b,c,e){var f=d.cc();f.MF("LOADED",b);f.MF("TOTAL",c);f.MF("PROGRESS",e);this.Ga(a.Q.LHd,f)};x.Q1b=function(b,c,e){var f=d.cc();f.MF("LOADED",b);f.MF("TOTAL",c);f.MF("PROGRESS",
e);this.Ga(a.Q.eTc,f)};d.Sa(c.Oxa,"PRIM_WEB","DataRequest",{jc:{Execute:x.Z_,ExecuteAsync:x.Y4}});c.iya=function(b,c){L.K.call(this,b,c);this.Gn=a.O2.tHb};var L=c.u(c.iya,c.pMa);L.M3c=function(){return this.Gn};L.iFb=function(a){this.Gn=a};L.Z_=function(a,b){f(this,a,b);var c={};t&&(c._SESSIONKEY=t);var d=a.FLD;if(d!==p)for(var e in d)c[e]=m(d[e]);d=a.LIST;if(d!==p)for(var l in d){for(var h=d[l],k=h.bq={},r=h.entryCount(),s=1;s<=r;s++)for(e in h.getEntry(s),1==s&&(c[l+".."]=1),k){var u=s.toString();
4>u.length&&(u="000"+u,u=u.substr(u.length-4));c[l+"."+u+"."+e]=m(k[e])}delete h.bq}q(this.Zz(),c,this.Gn)};d.Sa(c.iya,"PRIM_WEB","WebPageRequest",{Aa:{Target:{a:function(){return d.va(this.Gn,a.O2.v)},f:function(b){this.iFb(d.wa(b,a.O2.v))}}},jc:{Execute:L.Z_}});c.aya=function(b,c){J.K.call(this,b,c);this.Gn=a.O2.tHb};var J=c.u(c.aya,c.pMa);J.M3c=function(){return this.Gn};J.iFb=function(a){this.Gn=a};J.Z_=function(a,b){f(this,a,b);var c={};t&&(c._SESSIONKEY=t);var d=a.FLD;if(d!==p)for(var e in d)c[e]=
m(d[e]);d=a.LIST;if(d!==p)for(var l in d){for(var h=d[l],k=h.bq={},r=h.entryCount(),s=1;s<=r;s++)for(e in h.getEntry(s),1==s&&(c[l+".."]=1),k){var u=s.toString();4>u.length&&(u="000"+u,u=u.substr(u.length-4));c[l+"."+u+"."+e]=m(k[e])}delete h.bq}q(this.Zz(),c,this.Gn)};d.Sa(c.aya,"PRIM_WEB","ResourceRequest",{Aa:{Target:{a:function(){return d.va(this.Gn,a.O2.v)},f:function(b){this.iFb(d.wa(b,a.O2.v))}}},jc:{Execute:J.Z_}});b.CUc=function(b,c){var d=c.webroutine;if(d){var e=b.wz.UIa(),f=d.fields;if(f){var l=
b.PNa(e),h;for(h in f){var k=null,m=b.gm[h];m&&(k=m.p_());if(!k&&l)for(var r in l)if(m=l[r],m.wh()==h){k=m;break}k&&(m=u(f[h].value),k.set(m))}}if(d=d.lists){var e=b.Kmd(e),p;for(p in d){f=null;if(m=b.gm[p])switch(m.zua()){case a.Ny.PAc:case a.Ny.K9a:case a.Ny.Ehb:f=m}!f&&e&&(f=e[p]);if(f)for(m=d[p],l=m.header,h=m.entries,k=0;k<h.length;k++){r=f.bq={};for(var t=h[k],q=0;q<t.length;q++)m=u(t[q]),r[l[q].name]=m;f.Ag();delete f.bq}}}}};b.BUc=function(a){(a=a.webroutine)&&h(a)}});
