window.LANSA.addSrc("wrtn",function(d,c,a,b,n){function t(a){return null===a?d.ed:"object"==typeof a?a.mimetype&&a.data&&a.filename?new c.AI(a):"":a}function q(a){if(a===d.ed)return null;switch(typeof a){case "object":if(a instanceof c.fk)return a.toString();if(c.Qq&&a instanceof c.Qq)return a.Ytc();if(a instanceof c.AI)return a.PCa}return a}function r(b,c,d){var e=document.createElement("form");e.setAttribute("method","post");e.setAttribute("action",b);d==a.R1.Esc&&e.setAttribute("target","_blank");
for(var f in c)c.hasOwnProperty(f)&&(b=document.createElement("input"),b.setAttribute("type","hidden"),b.setAttribute("name",f),b.setAttribute("value",c[f]),e.appendChild(b));document.body.appendChild(e);e.submit()}function p(a){return(a=a.sm)&&"M"==a}function k(a,b){x&&b.append("_SESSIONKEY",x);var e=a.FLD;if(e!==n)for(var f in e){var m=e[f];if(m===d.ed)return!1;m instanceof c.AI?b.append(f,m.Rta(),m.Ug()):b.append(f,q(m))}e=a.LIST;if(e!==n)for(var g in e){for(var k=e[g],p=k.Sp={},s=k.entryCount(),
r=1;r<=s;r++)for(f in k.getEntry(r),1==r&&b.append(g+"..",1),p){m=r.toString();4>m.length&&(m="000"+m,m=m.substr(m.length-4));var t=g+"."+m+"."+f,m=p[f];if(m===d.ed)return delete k.Sp,!1;m instanceof c.AI?b.append(t,m.Rta(),m.Ug()):b.append(t,q(m))}delete k.Sp}return!0}function g(a,b){var c=b.webroutine={},d=c.context={};x&&(d["session-key"]=x);C&&(d["session-key-name"]=C);m&&(d["session-key-method"]=m);d=a.FLD;if(d!==n){var e=c.fields={},f;for(f in d)(e[f]={}).value=q(d[f])}d=a.LIST;if(d!==n){var c=
c.lists={},g;for(g in d){for(var k=c[g]={},e=k.header=[],k=k.entries=[],p=d[g],s=p.Sp={},r=p.entryCount(),t=1;t<=r;t++){p.getEntry(t);if(1==t)for(f in s){var D={};e.push(D);D.name=f}D=[];k.push(D);for(f in s)D.push(q(s[f]))}delete p.Sp}}}function f(a){if(a=a.context){var b=a["session-key"];b!=n&&""!=b&&b!=x&&b!=s&&(s=x,x=b,C=a["session-key-name"],m=a["session-key-method"])}}function e(a,b,c){function e(a){if(a!=n){var b=a.FLD;f(a.LIST);f(b)}}function f(b){if(b!=n)for(var c in b)if(null===b[c])throw d.Ngd(c,
a.ADa,a.zDa);}e(b);e(c)}var x=n,C=n,m="hidden",s=n;a.R1={jEb:0,Esc:1};a.R1.G={CURRENT:a.R1.jEb,NEW:a.R1.Esc};d.Kd(function(){},"PRIM_WRTN",{});c.Ygc=function(){D.L.call(this)};var D=c.q(c.Ygc,c.Ad);D.M4=function(){return x!==n?x:""};D.I3a=function(a){x=a;s=n};D.Fzb=function(){var a=b.zl().hXa();if(a.mta()){var c="lansa-session-"+b.jXa(),d=JSON.stringify({key:this.M4()});if(a.ni(c,d))return!0}return!1};D.pzb=function(){var a=b.zl().hXa();if(a.mta()&&(a=a.WH("lansa-session-"+b.jXa()))){var c=null;try{c=
JSON.parse(a.jb())}catch(d){c=null}if(c)return this.I3a(c.key),!0}return!1};D.Ll=function(){var a=b.zl().hXa();a.mta()&&a.Hu("lansa-session-"+b.jXa());m=C=x=n};d.Ta(c.Ygc,"PRIM_WEB","Session",{Ba:{Key:{a:D.M4}},nc:{Save:D.Fzb,Restore:D.pzb,Clear:D.Ll}});c.zKa=function(a,b){B.L.call(this);this.ADa=a;this.zDa=b;this.jMb=this.mLb=""};var B=c.q(c.zKa,c.Ad);B.hTd=function(){return this.mLb};B.mae=function(a){this.mLb=a};B.vVd=function(){return this.jMb};B.Aae=function(a){this.jMb=a};B.QZc=function(){return this.ADa};
B.xZc=function(){return this.zDa};B.Hz=function(){return b.IIc(this.mLb,b.FWa(),this.ADa,this.zDa,this.kZc())};B.kZc=function(){var a=this.jMb;""==a&&(a=b.EWa());return a};d.Ta(c.zKa,"PRIM_WEB","ServerRequest",{Ba:{ServerModule:{a:B.QZc},Routine:{a:B.xZc}}});c.Gwa=function(a,b){y.L.call(this,a,b)};var y=c.q(c.Gwa,c.zKa);y.j_=function(a,b){this.TYb(a,b,!1,null)};y.b4=function(a,c){this.TYb(a,c,!0,b.rX())};y.TYb=function(c,s,q,r){function D(c){var e=null;try{e=JSON.parse(c)}catch(g){e=null}if(e){if(c=
e.webroutine)if(c=c.messages)for(var k=d.XXc(),p=0;p<c.length;p++)k.ni(c[p],null);if(c=e["vlweb-error"]){var q=a.JX.XVa;switch(c["message-id"]){case "HM42":case "HM43":q=a.JX.WZb;m=C=x=n;break;case "HM05":q=a.JX.VZb}q=K.nGa(q);if(!q&&c.message!==n)throw d.Zyb(K.ADa,K.zDa,c.message);}else{k=s;if(e=e.webroutine){p=k.FLD;if(p!==n){var y=e.fields;if(y)for(var B in p)c=y[B],c!==n&&(c=t(c.value),p[B].set(c))}B=k.LIST;if(B!==n&&(k=e.lists))for(q in B)if(p=B[q],p.Jj(),c=k[q])for(var y=c.header,w=c.entries,
z=0;z<w.length;z++){for(var E=p.Sp={},H=w[z],O=0;O<H.length;O++)c=t(H[O]),E[y[O].name]=c;p.Pg();delete p.Sp}f(e)}K.f4()}}else if(q=K.nGa(a.JX.XVa),!q)throw d.Zyb(K.ADa,K.zDa,"Invalid JSON");b.mB(r)}function y(c){if(!K.nGa(a.JX.XVa))throw d.Zyb(K.ADa,K.zDa,"response code "+c);b.mB(r)}function B(a){a.lengthComputable&&K.JRc(a.loaded,a.total,d.K(a.loaded/a.total*100))}function H(a){if(a.lengthComputable){var b=a.loaded/a.total*100;K.yZb(a.loaded,a.total,d.K(b))}else K.yZb(a.loaded,-1,-1)}var K=this;
e(K,c,s);if(p(c)){var O=new FormData;if(k(c,O)){b.xdd(this.Hz(),O,D,y,B,H,q);return}}O={};g(c,O);b.olc(this.Hz(),O,D,y,B,H,q)};y.nGa=function(c){var e=!1,e=d.fc();e.rQ("REASON",c,a.JX.G);e.mg("HANDLED",!1);this.Fa(a.O.e4,e);(e=e.ah("HANDLED"))||(e=b.zl().BRc(this,c));return e};y.f4=function(){this.Fa(a.O.K$)};y.JRc=function(b,c,e){var f=d.fc();f.sF("LOADED",b);f.sF("TOTAL",c);f.sF("PROGRESS",e);this.Fa(a.O.pCd,f)};y.yZb=function(b,c,e){var f=d.fc();f.sF("LOADED",b);f.sF("TOTAL",c);f.sF("PROGRESS",
e);this.Fa(a.O.YOc,f)};d.Ta(c.Gwa,"PRIM_WEB","DataRequest",{nc:{Execute:y.j_,ExecuteAsync:y.b4}});c.axa=function(b,c){K.L.call(this,b,c);this.xn=a.R1.jEb};var K=c.q(c.axa,c.zKa);K.x_c=function(){return this.xn};K.$Bb=function(a){this.xn=a};K.j_=function(a,b){e(this,a,b);var c={};x&&(c._SESSIONKEY=x);var d=a.FLD;if(d!==n)for(var f in d)c[f]=q(d[f]);d=a.LIST;if(d!==n)for(var m in d){for(var g=d[m],k=g.Sp={},p=g.entryCount(),s=1;s<=p;s++)for(f in g.getEntry(s),1==s&&(c[m+".."]=1),k){var t=s.toString();
4>t.length&&(t="000"+t,t=t.substr(t.length-4));c[m+"."+t+"."+f]=q(k[f])}delete g.Sp}r(this.Hz(),c,this.xn)};d.Ta(c.axa,"PRIM_WEB","WebPageRequest",{Ba:{Target:{a:function(){return d.wa(this.xn,a.R1.G)},f:function(b){this.$Bb(d.va(b,a.R1.G))}}},nc:{Execute:K.j_}});c.Twa=function(b,c){H.L.call(this,b,c);this.xn=a.R1.jEb};var H=c.q(c.Twa,c.zKa);H.x_c=function(){return this.xn};H.$Bb=function(a){this.xn=a};H.j_=function(a,b){e(this,a,b);var c={};x&&(c._SESSIONKEY=x);var d=a.FLD;if(d!==n)for(var f in d)c[f]=
q(d[f]);d=a.LIST;if(d!==n)for(var m in d){for(var g=d[m],k=g.Sp={},p=g.entryCount(),s=1;s<=p;s++)for(f in g.getEntry(s),1==s&&(c[m+".."]=1),k){var t=s.toString();4>t.length&&(t="000"+t,t=t.substr(t.length-4));c[m+"."+t+"."+f]=q(k[f])}delete g.Sp}r(this.Hz(),c,this.xn)};d.Ta(c.Twa,"PRIM_WEB","ResourceRequest",{Ba:{Target:{a:function(){return d.wa(this.xn,a.R1.G)},f:function(b){this.$Bb(d.va(b,a.R1.G))}}},nc:{Execute:H.j_}});b.uQc=function(b,c){var d=c.webroutine;if(d){var e=b.cz.gHa(),f=d.fields;if(f){var m=
b.XLa(e),g;for(g in f){var k=null,n=b.Xl[g];n&&(k=n.AZ());if(!k&&m)for(var p in m)if(n=m[p],n.Fh()==g){k=n;break}k&&(n=t(f[g].value),k.set(n))}}if(d=d.lists){var e=b.Yhd(e),s;for(s in d){f=null;if(n=b.Xl[s])switch(n.vta()){case a.oy.bxc:case a.oy.r7a:case a.oy.Oeb:f=n}!f&&e&&(f=e[s]);if(f)for(n=d[s],m=n.header,g=n.entries,k=0;k<g.length;k++){p=f.Sp={};for(var q=g[k],r=0;r<q.length;r++)n=t(q[r]),p[m[r].name]=n;f.Pg();delete f.Sp}}}}};b.tQc=function(a){(a=a.webroutine)&&f(a)}});
