window.LANSA.addSrc("wrtn",function(e,c,a,b,m){function p(a){return null===a?e.Fd:"object"==typeof a?a.mimetype&&a.data&&a.filename?new c.JG(a):"":a}function h(a){if(a===e.Fd)return null;switch(typeof a){case "object":if(a instanceof c.wj)return a.toString();if(c.hq&&a instanceof c.hq)return a.wac();if(a instanceof c.JG)return a.Pra}return a}function r(b,c,d){var e=document.createElement("form");e.setAttribute("method","post");e.setAttribute("action",b);d==a.iW.b$b&&e.setAttribute("target","_blank");
for(var f in c)c.hasOwnProperty(f)&&(b=document.createElement("input"),b.setAttribute("type","hidden"),b.setAttribute("name",f),b.setAttribute("value",c[f]),e.appendChild(b));document.body.appendChild(e);e.submit()}function k(a){return(a=a.sm)&&"M"==a}function s(a,b){l&&b.append("_SESSIONKEY",l);var d=a.FLD;if(d!==m)for(var f in d){var g=d[f];g!==e.Fd&&(g instanceof c.JG?b.append(f,g.gka(),g.zh()):b.append(f,h(g)))}d=a.LIST;if(d!==m)for(var k in d){for(var t=d[k],r=t.Lp={},u=t.entryCount(),s=1;s<=
u;s++)for(f in t.getEntry(s),1==s&&b.append(k+"..",1),r){g=s.toString();4>g.length&&(g="000"+g,g=g.substr(g.length-4));var p=k+"."+g+"."+f,g=r[f];g instanceof c.JG?b.append(p,g.gka(),g.zh()):b.append(p,h(g))}delete t.Lp}}function f(a,b){var c=b.webroutine={},d=c.context={};l&&(d["session-key"]=l);u&&(d["session-key-name"]=u);z&&(d["session-key-method"]=z);d=a.FLD;if(d!==m){var e=c.fields={},f;for(f in d)(e[f]={}).value=h(d[f])}d=a.LIST;if(d!==m){var c=c.lists={},g;for(g in d){for(var k=c[g]={},e=
k.header=[],k=k.entries=[],t=d[g],r=t.Lp={},s=t.entryCount(),p=1;p<=s;p++){t.getEntry(p);if(1==p)for(f in r){var K={};e.push(K);K.name=f}K=[];k.push(K);for(f in r)K.push(h(r[f]))}delete t.Lp}}}function g(a){if(a=a.context)l=a["session-key"],u=a["session-key-name"],z=a["session-key-method"]}function d(a,b,c){function d(a){if(a!=m){var b=a.FLD;f(a.LIST);f(b)}}function f(b){if(b!=m)for(var c in b)if(null===b[c])throw e.CUc(c,a.ysa,a.xsa);}d(b);d(c)}var l=m,u=m,z=m;a.iW={Gob:0,b$b:1};a.iW.v={CURRENT:a.iW.Gob,
NEW:a.iW.b$b};e.kd(function(){},"PRIM_WRTN",{});c.jza=function(a,b){t.w.call(this);this.ysa=a;this.xsa=b;this.iwb=this.lvb=""};var t=c.u(c.jza,c.wd);t.Vsd=function(){return this.lvb};t.nLd=function(a){this.lvb=a};t.Wud=function(){return this.iwb};t.ILd=function(a){this.iwb=a};t.nDc=function(){return this.ysa};t.aDc=function(){return this.xsa};t.JA=function(){return b.Enc(this.lvb,b.cKa(),this.ysa,this.xsa,this.NCc())};t.NCc=function(){var a=this.iwb;""==a&&(a=b.bKa());return a};e.jb(c.jza,"PRIM_WEB",
"ServerRequest",{Oa:{ServerModule:{a:t.nDc},Routine:{a:t.aDc}}});c.ima=function(a,b){K.w.call(this,a,b)};var K=c.u(c.ima,c.jza);K.VT=function(a,b){this.hIb(a,b,!1,null)};K.w$=function(a,c){this.hIb(a,c,!0,b.vR())};K.hIb=function(c,h,t,r){function K(c){var d=null;try{d=JSON.parse(c)}catch(f){d=null}if(d){if(c=d.webroutine)if(c=c.messages)for(var k=e.NBc(),v=0;v<c.length;v++)k.ph(c[v],null);if(c=d["vlweb-error"]){var t=a.IR.yJa;switch(c["message-id"]){case "HM42":case "HM43":t=a.IR.jJb;z=u=l=m;break;
case "HM05":t=a.IR.iJb}t=Y.$ua(t);if(!t&&c.message!==m)throw e.Gjb(Y.ysa,Y.xsa,c.message);}else{k=h;if(d=d.webroutine){v=k.FLD;if(v!==m){var s=d.fields;if(s)for(var B in v)c=s[B],c!==m&&(c=p(c.value),v[B].set(c))}B=k.LIST;if(B!==m&&(k=d.lists))for(t in B)if(v=B[t],v.Tj(),c=k[t])for(var s=c.header,y=c.entries,D=0;D<y.length;D++){for(var pa=v.Lp={},ya=y[D],C=0;C<ya.length;C++)c=p(ya[C]),pa[s[C].name]=c;v.Gg();delete v.Lp}g(d)}Y.bY()}}else if(t=Y.$ua(a.IR.yJa),!t)throw e.Gjb(Y.ysa,Y.xsa,"Invalid JSON");
b.zy(r)}function B(c){if(!Y.$ua(a.IR.yJa))throw e.Gjb(Y.ysa,Y.xsa,"response code "+c);b.zy(r)}function P(a){a.lengthComputable&&Y.Nvc(a.loaded,a.total,e.K(a.loaded/a.total*100))}function F(a){if(a.lengthComputable){var b=a.loaded/a.total*100;Y.MIb(a.loaded,a.total,e.K(b))}else Y.MIb(a.loaded,-1,-1)}var Y=this;d(Y,c,h);if(k(c)){var ka=new FormData;s(c,ka);b.uRc(this.JA(),ka,K,B,P,F,t)}else ka={},f(c,ka),b.z3b(this.JA(),ka,K,B,P,F,t)};K.$ua=function(c){var d=!1,d=e.Tb();d.WO("REASON",c,a.IR.v);d.rf("HANDLED",
!1);this.Ga(a.G.aY,d);(d=d.og("HANDLED"))||(d=b.Dp().Fvc(this,c));return d};K.bY=function(){this.Ga(a.G.U2)};K.Nvc=function(b,c,d){var f=e.Tb();f.LB("LOADED",b);f.LB("TOTAL",c);f.LB("PROGRESS",d);this.Ga(a.G.Pcd,f)};K.MIb=function(b,c,d){var f=e.Tb();f.LB("LOADED",b);f.LB("TOTAL",c);f.LB("PROGRESS",d);this.Ga(a.G.ntc,f)};e.jb(c.ima,"PRIM_WEB","DataRequest",{jc:{Execute:K.VT,ExecuteAsync:K.w$}});c.Dma=function(b,c){B.w.call(this,b,c);this.Ul=a.iW.Gob};var B=c.u(c.Dma,c.jza);B.$Dc=function(){return this.Ul};
B.wmb=function(a){this.Ul=a};B.VT=function(a,b){d(this,a,b);var c={};l&&(c._SESSIONKEY=l);var e=a.FLD;if(e!==m)for(var f in e)c[f]=h(e[f]);e=a.LIST;if(e!==m)for(var g in e){for(var k=e[g],t=k.Lp={},u=k.entryCount(),s=1;s<=u;s++)for(f in k.getEntry(s),1==s&&(c[g+".."]=1),t){var p=s.toString();4>p.length&&(p="000"+p,p=p.substr(p.length-4));c[g+"."+p+"."+f]=h(t[f])}delete k.Lp}r(this.JA(),c,this.Ul)};e.jb(c.Dma,"PRIM_WEB","WebPageRequest",{Oa:{Target:{a:function(){return e.ta(this.Ul,a.iW.v)},g:function(b){this.wmb(e.ra(b,
a.iW.v))}}},jc:{Execute:B.VT}});c.wma=function(b,c){P.w.call(this,b,c);this.Ul=a.iW.Gob};var P=c.u(c.wma,c.jza);P.$Dc=function(){return this.Ul};P.wmb=function(a){this.Ul=a};P.VT=function(a,b){d(this,a,b);var c={};l&&(c._SESSIONKEY=l);var e=a.FLD;if(e!==m)for(var f in e)c[f]=h(e[f]);e=a.LIST;if(e!==m)for(var g in e){for(var k=e[g],t=k.Lp={},u=k.entryCount(),s=1;s<=u;s++)for(f in k.getEntry(s),1==s&&(c[g+".."]=1),t){var p=s.toString();4>p.length&&(p="000"+p,p=p.substr(p.length-4));c[g+"."+p+"."+f]=
h(t[f])}delete k.Lp}r(this.JA(),c,this.Ul)};e.jb(c.wma,"PRIM_WEB","ResourceRequest",{Oa:{Target:{a:function(){return e.ta(this.Ul,a.iW.v)},g:function(b){this.wmb(e.ra(b,a.iW.v))}}},jc:{Execute:P.VT}});b.Euc=function(b,c){var d=c.webroutine;if(d){var e=b.eA.Xva(),f=d.fields;if(f){var g=b.AAa(e),l;for(l in f){var h=null,k=b.Zi[l];k&&(h=k.lT());if(!h&&g)for(var m in g)if(k=g[m],k.dh()==l){h=k;break}h&&(k=p(f[l].value),h.set(k))}}if(d=d.lists){var e=b.MVc(e),t;for(t in d){f=null;if(k=b.Zi[t])switch(k.Ava()){case a.Ev.Rrb:case a.Ev.XUa:case a.Ev.a1a:f=
k}!f&&e&&(f=e[t]);if(f)for(k=d[t],g=k.header,l=k.entries,h=0;h<l.length;h++){m=f.Lp={};for(var r=l[h],u=0;u<r.length;u++)k=p(r[u]),m[g[u].name]=k;f.Gg();delete f.Lp}}}}};b.Duc=function(a){(a=a.webroutine)&&g(a)}});
